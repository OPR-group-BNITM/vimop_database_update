params {
    taxa_config = "REPLACE_THIS"
    fasta_sequences = "REPLACE_THIS"
    out_dir = 'REPLACE_THIS'
    output_version = 'REPLACE_THIS'

    filter_max_n_share = 0.01
    filter_min_relative_length = 0.8
    cdhit_threshold = 0.98

    minimap {
        kmer_length=11
        window_size=5
        p=0.6
    }
}

dockerUser = 'oprgroup'

profiles {
    standard {
        docker {
            enabled = true
            runOptions = "--user \$(id -u):\$(id -g) --group-add 100"
        }
        process {
            withLabel:general {
                container = "${dockerUser}/vimopdb_general:1.0.0"
            }
        }
    }

    // Run with option -profile conda
    conda {
        docker.enabled = false
        singularity.enabled = false
        conda {
            enabled = true
            useMamba = true
            cacheDir = "${System.getenv('HOME')}/.nextflow/conda"
        }
        process {
            withLabel:general {
                conda = 'docker_images/general/env.yaml'
            }
        }
    }
    // If everything is installed in the sourounding environment,
    // e.g. the tools are simply installed on the system or a conda environment with
    // all dependencies is already activated. An example usage would be building the
    // image in docker_images/general and use it as a container for slurm.
    // Run with option -profile noenv
    noenv {
        docker.enabled = false
        singularity.enabled = false
    }
}
